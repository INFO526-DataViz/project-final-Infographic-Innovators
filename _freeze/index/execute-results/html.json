{
  "hash": "385943febeed313009c713d8d75334e0",
  "result": {
    "markdown": "---\ntitle: \"From Takeoff to Touchdown: Dissecting Data on Air Disasters\"\nsubtitle: \"INFO 526 - Project Final\"\nauthor: \n  - name: \"Infographic Innovators - Antonio, Bharath, Eshaan, Thanoosha\"\n    affiliations:\n      - name: \"School of Information, University of Arizona\"\ndescription: \"A shiny app integration with aircraft crash analysis\"\nformat:\n   html:\n    code-tools: true\n    code-overflow: wrap\n    embed-resources: true\neditor: visual\nexecute:\n  warning: false\n  echo: false\n---\n\n\n## Abstract:\n\nThis study delves into a comprehensive analysis of aircraft crashes in the United States spanning from 1980 to 2022. It focuses on exploring crash locations, timings, consequences, and the influencing factors behind these incidents. And the dataset also comprises of crashes with all kinds of airways like commerical, personal, navy etc,. Leveraging a detailed dataset sourced from the National Transportation Safety Board (NTSB), the research utilizes data visualization techniques and time-series analyses to uncover correlations and trends associated with these aviation mishaps.\n\n## Introduction:\n\nThe objective of this study is to meticulously examine aircraft crashes' locations, timings, and consequences during the specified time frame. The research aims to discern correlations, if any, contributing to these incidents and to ascertain whether certain regions are more prone to a higher number of crashes.\n\nThe research methodology involves a thorough analysis of the NTSB dataset, employing various data visualization tools and statistical analyses. Specifically, a choropleth is generated to visualize crash frequencies across different regions, while a radial bar plot illustrates crashes during specific flight phases. Additionally, the study investigates crash causes and their correlation with the severity of outcomes through waffle chart to visualize proportions and distribution chart to go over the distrubtion of that categegory over the time. A radar plot is utilized to explore crash occurrences concerning weather conditions and months. And then incorporating the whole visualization into a [Shiny App](https://99javc-velamala-bharath.shinyapps.io/fromtakeofftotouchdown/) to make it accessible to everyone.\n\n\n\n\n\n\n\n\n\n\n\n\n\n## Examining Aircraft Crashes, with a focus on their locations, timings, and consequences\n\n### Time series analysis of fatalities, and types of injuries\n\n**Approach**\n\nWe aim to analyze the historical data on fatalities and injuries to understand the trends over the years. To initiate our investigation, we have created two animations. The first animation illustrates the cumulative count of both fatalities and injuries over time, employing the `geom_line()` function and incorporating a flight image to signify the movement of data points within the plot. In the second animation, we have categorized fatalities based on the severity of injuries, providing a visual representation of how different types of fatalities have evolved over time.\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Time Series - Total Fatalities\"}\n# Creating Animated Plot for Total Faltalities\nImage <-\n  \"images/airplane.png\"  #Save Image instead of inserting emoji\n\n# Labelling the axes and adding title to the plot for Fatalities\np <- ggplot(flights_ntsb_timeseries,\n            aes(x = event_year,\n                y = total_fatalities)) +\n  geom_line() +\n  geom_image(aes(image = Image),\n             size = 0.05) +\n  labs(title = \"Yearly Aircraft Crash Fatalities\",\n       x = \"Year\",\n       y = \"Total Fatalities\") +\n  theme_minimal()\n\n# Animating the plot\nanimated_plot <- p +\n  transition_reveal(event_year) +\n  ease_aes('linear') +\n  shadow_mark()\n\n# Animating the plot\nanimate(\n  animated_plot,\n  nframes = 200,\n  width = 800,\n  height = 600,\n  renderer = gifski_renderer()\n)\n\nanimated_plot\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/time_series_gif-1.gif){fig-align='center' fig-alt='Time series analysis of Total Fatalaties due to air crashed over the year which was visualized using an animation where a flight image is used to signfiy the transition.'}\n:::\n:::\n\n\n\n\n**Findings**\n\nThere has been a general decrease in the number of total fatalities from 1980 to 2022. A notable spike in fatalities was observed in 2001, attributed to the 9/11 attacks. Post-2001, a significant decline in fatalities was noted. This can be interpreted as more and more safety measures has been taken into consideration as the time passed by which has lead to the decrease in air crashes. There might be some situations where commercial air crashes happen due to new technology being introduced and pilot's being unable to adapt to it as per this [article](https://commercial.allianz.com/news-and-insights/expert-risk-articles/how-aviation-safety-has-improved.html).\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Time Series - Injuries severity\"}\n# all 3 plots with label - animated \n\n\nfcdata <- flights_ntsb_timeseries |>\n  ungroup() |>\n  pivot_longer(cols = starts_with(\"total_\"),\n               names_to = \"Category\",\n               values_to = \"Count\") |>\n  mutate(\n    Category = case_when(\n      Category == \"total_fatalities\" ~ \"Fatalities\",\n      Category == \"total_serious_injuries\" ~ \"Serious\\nInjuries\",\n      Category == \"total_minor_injuries\" ~ \"Minor\\nInjuries\"\n    )\n  )\n\n\n\n# Creating the animated plot\nanimation_fcdata <- ggplot(fcdata,\n                           aes(event_year,\n                               Count,\n                               group = Category,\n                               color = Category)) +\n  geom_line(size = 1.3, show.legend = FALSE) +\n  geom_segment(\n    aes(xend = max(event_year) +\n          0.1,\n        yend = Count),\n    linetype = 2,\n    colour = 'grey',\n    show.legend = FALSE\n  ) +\n  geom_point(size = 2,\n             show.legend = FALSE) +\n  geom_text(\n    aes(\n      x = max(event_year) + 0.1,\n      label = Category,\n      color = \"#000000\"\n    ),\n    size = 5,\n    hjust = 0,\n    show.legend = FALSE\n  ) +\n  geom_vline(xintercept = 2001, color = \"red\", size = 1.25) +\n  transition_reveal(event_year) +\n  coord_cartesian(clip = 'off') +\n  theme_minimal() +\n  theme(plot.title = element_text(size = 20),\n        plot.margin = margin(5.5, 40, 5.5, 5.5),\n        axis.text = element_text(size = 12),\n        axis.title = element_text(hjust = 0, size = 12)) +\n  labs(title = 'Aircraft Crash Statistics Over Time',\n       y = 'Number of Crashes',\n       x = element_blank())\n\n# Animating the plot\nanimated_fcdata <- animate(\n  animation_fcdata,\n  fps = 10,\n  duration = 25,\n  width = 1200,\n  height = 700,\n  renderer = gifski_renderer(\"images/animated_fcdata.gif\")\n)\n\n# Display or save the animated plot\nanimated_fcdata\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/animated_labels-1.gif){fig-align='center' fig-alt='Time series analysis of all injuries which are categorized to fatal, minor and serious due to air crashed over the year which was visualized using an animation where a horizontal line and a labelled text is used to visualize the tranistion. And 2001 crashes is highlighted.'}\n:::\n:::\n\n\n### Choropleth map on number of crashes in different regions(US map)\n\n**Approach**\n\nThe approach for creating a choropleth map of flight crashes in different U.S. regions involves data preparation, map generation, and animation. The dataset is filtered for valid latitude and longitude values, and relevant columns are selected. To ensure completeness, unique states and all years are identified. A function, is defined to create maps for each input year, customizing color scales. Maps are saved for each year using a loop.\n\nThe animation is created by loading saved map images, joining them into a sequence, and generating the animation. The resulting animation visually represents the temporal evolution of flight crashes across U.S. states.\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Choropleth Map - Temporal analysis\"}\n# Creating a function to plot a map\ngetHexBinMap <- function(input_year) {\n  plot_data <- flights_ntsb_maps |>\n    filter(event_year == input_year)\n  \n  plot_usmap(data = plot_data,\n             values = \"total_crashes\", \n             color = \"black\") +\n    theme_void() +\n    scale_fill_gradientn(\n      colors = met.brewer(\"Hokusai2\"),\n      name = \"Number of Crashes\",\n      limits = c(0, 400)\n    ) +\n    labs(title = sprintf(\"Flight crashes in US states during %d\", input_year)) +\n    theme(\n      legend.position = 'right',\n      plot.title = element_text(size = 40, hjust = 0.5, face = \"bold\", vjust = -1),\n      legend.text = element_text(size = 18),\n      legend.title = element_text(size = 20, face = \"bold\")\n    )\n}\n```\n:::\n\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](index_files/figure-html/animation_hexbin-1.gif){fig-align='center' fig-alt='Animation of US maps where each state is highlighted based on the number of crashes occurred across the time.'}\n:::\n:::\n\n\n**Findings**\n\nLooking at the choropleth map California, Florida, Alaska, Texas has the highest number of crashes. Though the number of crashes has reduced significantly over the time but these states remained at the top in number of crashes. The probable reason might be these states being the east and west border of the Country and consists of more air traffic. And these states also have more air force bases where non-commercial air crashes must have been recorded. Alaska being involved in the list can be related to it's weather conditions and pilot's being over confident in those situation as reported in this [thread](https://www.quora.com/Why-are-there-so-many-plane-crashes-in-Alaska).\n\n### Radial Bar Plot\n\n**Approach**\n\nWe plotted the radial bar plot to explore the distribution of flight crashes and associated injuries across different phases of flight. By categorizing flight phases into `Landing, Takeoff, Approach, Maneuvering, Climb, and Other` this visualization aims to uncover insights into the critical moments during a flight where incidents are more likely to occur. The first graph highlights the count of crashes in each phase, while the second graph focuses on the count of injuries, providing a broad perspective on the safety challenges associated with each phase.\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Radial Bar Plot - Total Crashes\"}\n# Plotting a Radial Barplot to show the Total Count of Crashes and phase of flight \nflights_radial_bar_crashes <-\n  ggplot(flights_ntsb_radial,\n         aes(x = fct_rev(flight_phase), y = total_crashes, \n             fill = flight_phase)) +\n  geom_bar(stat = \"identity\", width = 0.8) +\n  geom_text(hjust = 1.2, size = 3, \n            aes(y = 0, label = comma(total_crashes))) +\n  coord_polar(theta = \"y\") +\n  labs(\n    x = NULL,\n    y = NULL,\n    fill = \"Phase of Flight\",\n    title = \"A Radial View of Total Crashes\",\n    subtitle = \"as per the phase of flight\",\n    caption = \"\"\n  ) +\n  scale_y_continuous(\n    breaks = seq(0, 27000, by = 5000),\n    limits = c(0, 27000)\n  ) +\n  scale_x_discrete(expand = c(0.35, 0)) + \n  scale_fill_frontiers() +\n  theme(\n    legend.position = \"bottom\",\n    legend.title = element_text(size = 12),\n    axis.text = element_blank(),\n    panel.grid.minor = element_blank(),\n    panel.grid.major = element_blank(),\n    plot.title = element_text(size = 16, face = \"bold\"),\n    plot.subtitle = element_text(size = 12)\n    ) +\n  guides(\n      fill = guide_legend(\n        nrow = 1,\n        direction = \"horizontal\",\n        title.position = \"top\",\n        title.hjust = 0.5,\n        label.position = \"bottom\",\n        label.hjust = 1,\n        label.vjust = 1,\n        label.theme = element_text(lineheight = 0.25, size = 11),\n        keywidth = 1.5,\n        keyheight = 0.5\n      )\n    )\nflights_radial_bar_crashes\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/radial_plot_crashes-1.png){fig-align='center' fig-alt='Radial Bar Plot visualizing the total number of crashes occurred at different phases of the flight.'}\n:::\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Radial Bar Plot - Total Crashes\"}\n# remaining - titles, some texts\n# interactive - plotly\n# animate - plotly by years or gganimate bar growth\n```\n:::\n\n\n**Findings**\n\nThe radial bar plot offers an intuitive and visually appealing representation of the distribution of crashes and injuries throughout various phases of flight. In the first graph, the bars radiating from the center depict the count of crashes in each phase, allowing for a quick comparison of their frequencies. This visualization enables the identification of phases that might be particularly prone to incidents, guiding further investigation into the contributing factors.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Radial Bar Plot - Total Injuries\"}\n# Plotting a Radial Barplot to show the Total Count of Injuries and phase of flight \nflights_radial_bar_injuries <-\n  ggplot(flights_ntsb_radial,\n         aes(x = fct_rev(flight_phase), y = total_injuries, \n             fill = flight_phase)) +\n  geom_bar(stat = \"identity\", width = 0.8) +\n  geom_text(hjust = 1.2, size = 3, \n            aes(y = 0, label = comma(total_injuries))) +\n  coord_polar(theta = \"y\") +\n  labs(\n    x = NULL,\n    y = NULL,\n    fill = \"Phase of Flight\",\n    title = \"A Radial View of Total Injuries\",\n    subtitle = \"as per the phase of flight\",\n    caption = \"\"\n  ) +\n  scale_y_continuous(\n    breaks = seq(0, 13200, by = 1000),\n    limits = c(0, 13200)\n  ) +\n  scale_x_discrete(expand = c(0.35, 0)) + \n  scale_fill_frontiers() +\n  theme(\n    legend.position = \"bottom\",\n    legend.title = element_text(size = 12),\n    axis.text = element_blank(),\n    panel.grid.minor = element_blank(),\n    panel.grid.major = element_blank(),\n    plot.title = element_text(size = 16, face = \"bold\"),\n    plot.subtitle = element_text(size = 12)\n    ) +\n  guides(\n      fill = guide_legend(\n        nrow = 1,\n        direction = \"horizontal\",\n        title.position = \"top\",\n        title.hjust = 0.5,\n        label.position = \"bottom\",\n        label.hjust = 1,\n        label.vjust = 1,\n        label.theme = element_text(lineheight = 0.25, size = 11),\n        keywidth = 1.5,\n        keyheight = 0.5\n      )\n    ) \n\nflights_radial_bar_injuries\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/radial_plot_injuries-1.png){fig-align='center' fig-alt='Radial Bar Plot visualizing the total number of injuries occurred at different phases of the flight.'}\n:::\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Radial Bar Plot - Total Injuries\"}\n# remaining - titles, some texts\n# interactive - plotly\n# animate - plotly by years or gganimate bar growth\n```\n:::\n\n\nThe second graph, depicting injuries, provides an additional layer of analysis. By comparing the counts of injuries across different flight phases, we can discern whether certain phases are more likely to result in severe consequences. This insight is crucial for understanding the potential risks associated with specific segments of a flight, informing safety measures and protocols.\n\n## Analysis of Causes of Crashes\n\nWe focused on the text report column of the air crashes data which is `probable_cause` and we have summarized the text report using `hugging face` in python which can be found in the folder `Probable_Cause`. We used the summarized text in exploring the probable causes of these crashes.\n\n### Waffle chart\n\n**Approach**\n\nWe prepare data by calculating percentages and determining tile numbers for causes of airplane crashes. It generates a waffle chart using ggplot2, displaying causes represented by '✈' symbols in a grid layout, each tile proportional to the cause's percentage, and then converts it into an interactive plot using plotly for visualization.\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Waffle Chart - Probable Cause Proportion\"}\nwaffle_data <- count_waffle %>%\n  slice(rep(1:n(), times = number)) %>%\n  mutate(fill_value = ifelse(row_number() <= sum(floored), floored, floored + 1))\n\nplot_data <- expand.grid(x = 0:9, y = 0:9) %>%\n  rowwise() |>\n  mutate(index = 1 + sum(x * 10 + y >= cumsum(count_waffle$number)),\n         cause = count_waffle$cause_summary[[index]])\n\n# Create a waffle plot\np <-\n  ggplot(plot_data, aes(x, y, color = cause, group = cause), show.legend =\n           F) +\n  geom_text(label = \"✈\",\n            family = 'sans',\n            size = 8) +\n  scale_color_manual(values = met.brewer(\"Redon\")) +\n  coord_equal() +\n  labs(title = \"Waffle chart showing different causes of crashes\",\n       colour = 'Cause')\nflight_plot <- ggplotly(p, tooltip = c(\"color\")) |>\n  layout(\n    xaxis = list(\n      showgrid = FALSE,\n      zeroline = FALSE,\n      showticklabels = FALSE,\n      title = \"\"\n    ),\n    yaxis = list(\n      showgrid = FALSE,\n      zeroline = FALSE,\n      showticklabels = FALSE,\n      title = \"\"\n    ),\n    showlegend = FALSE\n  )\n\nflight_plot\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"plotly html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-5837cabbaa8c7a41a8c3\" style=\"width:100%;height:401px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-5837cabbaa8c7a41a8c3\">{\"x\":{\"data\":[{\"x\":[1,0,0,0],\"y\":[0,7,8,9],\"text\":[\"✈\",\"✈\",\"✈\",\"✈\"],\"hovertext\":[\"cause: aerodynamic stall\",\"cause: aerodynamic stall\",\"cause: aerodynamic stall\",\"cause: aerodynamic stall\"],\"textfont\":{\"size\":30.236220472440948,\"color\":\"rgba(91,133,158,1)\"},\"type\":\"scatter\",\"mode\":\"text\",\"hoveron\":\"points\",\"name\":\"aerodynamic stall\",\"legendgroup\":\"aerodynamic stall\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[0],\"y\":[0],\"text\":\"✈\",\"hovertext\":\"cause: crosswinds\",\"textfont\":{\"size\":30.236220472440948,\"color\":\"rgba(30,57,95,1)\"},\"type\":\"scatter\",\"mode\":\"text\",\"hoveron\":\"points\",\"name\":\"crosswinds\",\"legendgroup\":\"crosswinds\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[0],\"y\":[1],\"text\":\"✈\",\"hovertext\":\"cause: in-flight collision\",\"textfont\":{\"size\":30.236220472440948,\"color\":\"rgba(117,136,75,1)\"},\"type\":\"scatter\",\"mode\":\"text\",\"hoveron\":\"points\",\"name\":\"in-flight collision\",\"legendgroup\":\"in-flight collision\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[0],\"y\":[3],\"text\":\"✈\",\"hovertext\":\"cause: in-flight fire\",\"textfont\":{\"size\":30.236220472440948,\"color\":\"rgba(30,90,70,1)\"},\"type\":\"scatter\",\"mode\":\"text\",\"hoveron\":\"points\",\"name\":\"in-flight fire\",\"legendgroup\":\"in-flight fire\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[1,1,1,1,1],\"y\":[1,2,3,4,5],\"text\":[\"✈\",\"✈\",\"✈\",\"✈\",\"✈\"],\"hovertext\":[\"cause: inadequate flight maintenance\",\"cause: inadequate flight maintenance\",\"cause: inadequate flight maintenance\",\"cause: inadequate flight maintenance\",\"cause: inadequate flight maintenance\"],\"textfont\":{\"size\":30.236220472440948,\"color\":\"rgba(223,141,113,1)\"},\"type\":\"scatter\",\"mode\":\"text\",\"hoveron\":\"points\",\"name\":\"inadequate flight maintenance\",\"legendgroup\":\"inadequate flight maintenance\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[4,5,4,5,4,5,4,4,4,4,3,4,3,4,3,4],\"y\":[0,0,1,1,2,2,3,4,5,6,7,7,8,8,9,9],\"text\":[\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\"],\"hovertext\":[\"cause: loss of engine power\",\"cause: loss of engine power\",\"cause: loss of engine power\",\"cause: loss of engine power\",\"cause: loss of engine power\",\"cause: loss of engine power\",\"cause: loss of engine power\",\"cause: loss of engine power\",\"cause: loss of engine power\",\"cause: loss of engine power\",\"cause: loss of engine power\",\"cause: loss of engine power\",\"cause: loss of engine power\",\"cause: loss of engine power\",\"cause: loss of engine power\",\"cause: loss of engine power\"],\"textfont\":{\"size\":30.236220472440948,\"color\":\"rgba(175,79,47,1)\"},\"type\":\"scatter\",\"mode\":\"text\",\"hoveron\":\"points\",\"name\":\"loss of engine power\",\"legendgroup\":\"loss of engine power\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[0,0,0],\"y\":[4,5,6],\"text\":[\"✈\",\"✈\",\"✈\"],\"hovertext\":[\"cause: loss of plane control\",\"cause: loss of plane control\",\"cause: loss of plane control\"],\"textfont\":{\"size\":30.236220472440948,\"color\":\"rgba(212,143,144,1)\"},\"type\":\"scatter\",\"mode\":\"text\",\"hoveron\":\"points\",\"name\":\"loss of plane control\",\"legendgroup\":\"loss of plane control\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[3,2,3,2,3,2,3,2,3,2,3,2,3,2,2,2],\"y\":[0,1,1,2,2,3,3,4,4,5,5,6,6,7,8,9],\"text\":[\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\"],\"hovertext\":[\"cause: Other\",\"cause: Other\",\"cause: Other\",\"cause: Other\",\"cause: Other\",\"cause: Other\",\"cause: Other\",\"cause: Other\",\"cause: Other\",\"cause: Other\",\"cause: Other\",\"cause: Other\",\"cause: Other\",\"cause: Other\",\"cause: Other\",\"cause: Other\"],\"textfont\":{\"size\":30.236220472440948,\"color\":\"rgba(115,47,48,1)\"},\"type\":\"scatter\",\"mode\":\"text\",\"hoveron\":\"points\",\"name\":\"Other\",\"legendgroup\":\"Other\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[0],\"y\":[2],\"text\":\"✈\",\"hovertext\":\"cause: out of fuel\",\"textfont\":{\"size\":30.236220472440948,\"color\":\"rgba(171,132,165,1)\"},\"type\":\"scatter\",\"mode\":\"text\",\"hoveron\":\"points\",\"name\":\"out of fuel\",\"legendgroup\":\"out of fuel\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[2,1,1,1,1],\"y\":[0,6,7,8,9],\"text\":[\"✈\",\"✈\",\"✈\",\"✈\",\"✈\"],\"hovertext\":[\"cause: physical damage\",\"cause: physical damage\",\"cause: physical damage\",\"cause: physical damage\",\"cause: physical damage\"],\"textfont\":{\"size\":30.236220472440948,\"color\":\"rgba(89,56,92,1)\"},\"type\":\"scatter\",\"mode\":\"text\",\"hoveron\":\"points\",\"name\":\"physical damage\",\"legendgroup\":\"physical damage\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[6,7,8,9,6,7,8,9,6,7,8,9,5,6,7,8,9,5,6,7,8,9,5,6,7,8,9,5,6,7,8,9,5,6,7,8,9,5,6,7,8,9,5,6,7,8,9],\"y\":[0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,3,4,4,4,4,4,5,5,5,5,5,6,6,6,6,6,7,7,7,7,7,8,8,8,8,8,9,9,9,9,9],\"text\":[\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\",\"✈\"],\"hovertext\":[\"cause: pilot's failure\",\"cause: pilot's failure\",\"cause: pilot's failure\",\"cause: pilot's failure\",\"cause: pilot's failure\",\"cause: pilot's failure\",\"cause: pilot's failure\",\"cause: pilot's failure\",\"cause: pilot's failure\",\"cause: pilot's failure\",\"cause: pilot's failure\",\"cause: pilot's failure\",\"cause: pilot's failure\",\"cause: pilot's failure\",\"cause: pilot's failure\",\"cause: pilot's failure\",\"cause: pilot's failure\",\"cause: pilot's failure\",\"cause: pilot's failure\",\"cause: pilot's failure\",\"cause: pilot's failure\",\"cause: pilot's failure\",\"cause: pilot's failure\",\"cause: pilot's failure\",\"cause: pilot's failure\",\"cause: pilot's failure\",\"cause: pilot's failure\",\"cause: pilot's failure\",\"cause: pilot's failure\",\"cause: pilot's failure\",\"cause: pilot's failure\",\"cause: pilot's failure\",\"cause: pilot's failure\",\"cause: pilot's failure\",\"cause: pilot's failure\",\"cause: pilot's failure\",\"cause: pilot's failure\",\"cause: pilot's failure\",\"cause: pilot's failure\",\"cause: pilot's failure\",\"cause: pilot's failure\",\"cause: pilot's failure\",\"cause: pilot's failure\",\"cause: pilot's failure\",\"cause: pilot's failure\",\"cause: pilot's failure\",\"cause: pilot's failure\"],\"textfont\":{\"size\":30.236220472440948,\"color\":\"rgba(216,184,71,1)\"},\"type\":\"scatter\",\"mode\":\"text\",\"hoveron\":\"points\",\"name\":\"pilot's failure\",\"legendgroup\":\"pilot's failure\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null}],\"layout\":{\"margin\":{\"t\":53.362372226050908,\"r\":9.2984640929846432,\"b\":53.169761184124795,\"l\":54.860938148609392},\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"sans\",\"size\":18.596928185969279},\"title\":{\"text\":\"Waffle chart showing different causes of crashes\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"sans\",\"size\":22.316313823163139},\"x\":0,\"xref\":\"paper\"},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[-0.45000000000000001,9.4499999999999993],\"tickmode\":\"array\",\"ticktext\":[\"0.0\",\"2.5\",\"5.0\",\"7.5\"],\"tickvals\":[0,2.5000000000000004,5,7.5],\"categoryorder\":\"array\",\"categoryarray\":[\"0.0\",\"2.5\",\"5.0\",\"7.5\"],\"nticks\":null,\"ticks\":\"\",\"tickcolor\":null,\"ticklen\":4.6492320464923198,\"tickwidth\":0,\"showticklabels\":false,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"sans\",\"size\":14.87754254877543},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":false,\"gridcolor\":\"rgba(235,235,235,1)\",\"gridwidth\":0.8453149175440583,\"zeroline\":false,\"anchor\":\"y\",\"title\":\"\",\"scaleanchor\":\"y\",\"scaleratio\":1,\"hoverformat\":\".2f\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[-0.45000000000000001,9.4499999999999993],\"tickmode\":\"array\",\"ticktext\":[\"0.0\",\"2.5\",\"5.0\",\"7.5\"],\"tickvals\":[0,2.5000000000000004,5,7.5],\"categoryorder\":\"array\",\"categoryarray\":[\"0.0\",\"2.5\",\"5.0\",\"7.5\"],\"nticks\":null,\"ticks\":\"\",\"tickcolor\":null,\"ticklen\":4.6492320464923216,\"tickwidth\":0,\"showticklabels\":false,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"sans\",\"size\":14.87754254877543},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":false,\"gridcolor\":\"rgba(235,235,235,1)\",\"gridwidth\":0.8453149175440583,\"zeroline\":false,\"anchor\":\"x\",\"title\":\"\",\"scaleanchor\":\"x\",\"scaleratio\":1,\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":1}],\"showlegend\":false,\"legend\":{\"bgcolor\":null,\"bordercolor\":null,\"borderwidth\":0,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"sans\",\"size\":14.87754254877543},\"title\":{\"text\":\"Cause\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"sans\",\"size\":18.596928185969279}}},\"hovermode\":\"closest\",\"barmode\":\"relative\"},\"config\":{\"doubleClick\":\"reset\",\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"source\":\"A\",\"attrs\":{\"124115a1bc90f\":{\"x\":{},\"y\":{},\"colour\":{},\"type\":\"scatter\"}},\"cur_data\":\"124115a1bc90f\",\"visdat\":{\"124115a1bc90f\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\n**Findings**\n\nThe waffle chart effectively showcased the distribution of crash causes, emphasizing the prominence of human error(pilot failures) in aviation incidents. The data highlighted the need for enhanced safety measures and training to address the identified causes of crashes.\n\n### Density Plot\n\n**Approach**\n\nWe plotted the density plot using ggplot's `geom_density` function is to visually analyze the distribution of flight crashes over the years based on their probable causes. By utilizing the `probable_cause_flights` dataset and focusing on the `cause_summary` column, this visualization aims to provide insights into the changing patterns and trends of aviation incidents. The x-axis represents the years, offering a chronological perspective, while the y-axis portrays the density of crashes associated with specific causes. Here, we have focused on the attribute `Pilot's Failure`\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Distrubtion Chart - Pilot's Fault?\"}\nggplot(\n  subset(\n    probable_cause_flights,\n    probable_cause_flights$cause_summary == \"pilot's failure\"\n  )\n) +\n  geom_density(aes(\n    x = year(event_date),\n    fill = factor(highest_injury_level, levels = c(\"Fatal\", \"Serious\", \"Minor\"))\n  ), alpha = 0.7) +\n  scale_fill_manual(values = c(\"#bcd67c\", \"#d398ff\", \"#82dfe2\")) +\n  labs(title = \"Distribution of crashes caused by pilot's negligence over time\",\n       x = \"Year\",\n       y = \"Density\",\n       fill = \"Highest Injury Level\") +\n  theme(\n    legend.position = \"bottom\",\n    panel.grid.major = element_blank(),\n    plot.title = element_text(size = 16, face = \"bold\"),\n    plot.subtitle = element_text(size = 12),\n    axis.text = element_text(size = 10),\n    axis.title = element_text(hjust = 0, size = 10)\n    )\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/distribution-1.png){fig-align='center' fig-alt='A Distrubtion chart to visualize the distribution of the probable causes of flight crashes due to pilot across the years.'}\n:::\n:::\n\n\n**Findings**\n\nThis visual representation allows us to identify clusters of high density, indicating periods or years where certain causes were more prevalent. Additionally, it facilitates the detection of outliers or shifts in patterns, enabling a more nuanced exploration of the dataset. Here, we can see that injuries in particular have reduced overtime with the number of Fatal Injuries reducing significantly over the past few decades.\n\n## Assessing the Influence of Weather Conditions on Crashes\n\n### Radar Plot\n\n**Approach**\n\nWe plot the Radar Plot using Plotly for R to comprehensively assess the influence of weather conditions on flight crashes. Leveraging the `flights_ntsb_radar` dataset which we derived from the original `flights_ntsb` dataset and categorizing flight crashes based on `Visual Meteorological Conditions (VMC)` and `Instrument Meteorological Conditions (IMC)`. This visualization seeks to highlight the varying degrees of impact these conditions have on aviation safety. By layering both datasets on a radar plot, we aim to provide a holistic perspective on how different weather scenarios contribute to flight incidents.\n\n\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Radar Chart - Weather Relation\"}\n# Plotting an Interactive Radar Plot using Plotly\nradar_chart <- plot_ly(type = 'scatterpolar',\n               fill = 'toself',\n               mode = 'lines+markers')\n\n# first plot tracing of VMC data\nradar_chart <- radar_chart |>\n  add_trace(\n    r = radar_trace_r2,\n    theta = radar_theta,\n    name = 'VMC'\n  )\n# second plot tracing of IMC data\nradar_chart <- radar_chart |>\n  add_trace(\n    r = radar_trace_r1,\n    theta = radar_theta,\n    name = 'IMC'\n  )\n# plot layout configuration\nradar_chart <- radar_chart |>\n  layout(polar = list(radialaxis = list(\n    visible = T,\n    range = c(0, 10500)\n  )))\n\nradar_chart\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"plotly html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-c6638940f264702163a1\" style=\"width:100%;height:401px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-c6638940f264702163a1\">{\"x\":{\"visdat\":{\"1241146b69540\":[\"function () \",\"plotlyVisDat\"]},\"cur_data\":\"1241146b69540\",\"attrs\":{\"1241146b69540\":{\"fill\":\"toself\",\"mode\":\"lines+markers\",\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"scatterpolar\"},\"1241146b69540.1\":{\"fill\":\"toself\",\"mode\":\"lines+markers\",\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"scatterpolar\",\"r\":[4075,4517,5905,6804,8208,9252,10429,9630,7884,6267,4758,4094,4075],\"theta\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sept\",\"Oct\",\"Nov\",\"Dec\",\"Jan\"],\"name\":\"VMC\",\"inherit\":true},\"1241146b69540.2\":{\"fill\":\"toself\",\"mode\":\"lines+markers\",\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"scatterpolar\",\"r\":[732,623,632,488,372,375,343,388,422,526,633,798,732],\"theta\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sept\",\"Oct\",\"Nov\",\"Dec\",\"Jan\"],\"name\":\"IMC\",\"inherit\":true}},\"layout\":{\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"polar\":{\"radialaxis\":{\"visible\":true,\"range\":[0,10500]}},\"hovermode\":\"closest\",\"showlegend\":true},\"source\":\"A\",\"config\":{\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"data\":[{\"fillcolor\":\"rgba(31,119,180,0.5)\",\"fill\":\"toself\",\"mode\":\"lines+markers\",\"type\":\"scatterpolar\",\"marker\":{\"color\":\"rgba(31,119,180,1)\",\"line\":{\"color\":\"rgba(31,119,180,1)\"}},\"line\":{\"color\":\"rgba(31,119,180,1)\"},\"frame\":null},{\"fillcolor\":\"rgba(255,127,14,0.5)\",\"fill\":\"toself\",\"mode\":\"lines+markers\",\"type\":\"scatterpolar\",\"r\":[4075,4517,5905,6804,8208,9252,10429,9630,7884,6267,4758,4094,4075],\"theta\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sept\",\"Oct\",\"Nov\",\"Dec\",\"Jan\"],\"name\":\"VMC\",\"marker\":{\"color\":\"rgba(255,127,14,1)\",\"line\":{\"color\":\"rgba(255,127,14,1)\"}},\"line\":{\"color\":\"rgba(255,127,14,1)\"},\"frame\":null},{\"fillcolor\":\"rgba(44,160,44,0.5)\",\"fill\":\"toself\",\"mode\":\"lines+markers\",\"type\":\"scatterpolar\",\"r\":[732,623,632,488,372,375,343,388,422,526,633,798,732],\"theta\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sept\",\"Oct\",\"Nov\",\"Dec\",\"Jan\"],\"name\":\"IMC\",\"marker\":{\"color\":\"rgba(44,160,44,1)\",\"line\":{\"color\":\"rgba(44,160,44,1)\"}},\"line\":{\"color\":\"rgba(44,160,44,1)\"},\"frame\":null}],\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\n**Findings**\n\nThe radar plot serves as an effective means to showcase the multivariate nature of weather conditions and their relationship with flight crashes. Each axis on the radar represents a specific parameter related to aviation safety, such as visibility, cloud cover, wind speed, and temperature. The radar plot allows for the simultaneous comparison of these parameters for VMC and IMC, unveiling patterns and discrepancies in their respective contributions to incidents.\n\n## Conclusion\n\nOver the 1980-2020 period, aviation has witnessed a significant decrease in the number of crashes and fatalities. Notably, the events of 9/11 in 2001 led to a spike in fatalities, but overall trends show a consistent decline. The aviation industry's implementation of stringent rules has played a crucial role in enhancing safety. With California, Alaska, Texas, and Florida experiencing higher frequencies. In addition to human factors and mechanical issues, weather patterns also played a role in aviation incidents. A radar plot revealed distinct correlations between specific weather conditions and increased crash occurrences in certain months.\n\nThis collective progress signifies a positive shift towards safer air travel. With fatalities and crashes decreasing over time, the aviation industry is advancing towards a safer and more efficient mode of transport. These improvements align with the industry's goal of providing faster and safer global travel, with flights covering vast distances in just a couple of hours.\n\n::: {.callout-note collapse=\"true\" appearance=\"minimal\"}\n## References\n\nTime Series info - [2001 crashes](https://en.wikipedia.org/wiki/American_Airlines_Flight_587)\n\nWaffle Plot - [Waffle Chart](https://www.filipr.com/posts/waffle-chart/)\n\nShiny - [Shiny](https://shiny.posit.co/r/gallery/)\n\ngganimate - [gganimate](https://r-graph-gallery.com/288-animated-barplot-transition.html)\n\nplotly - [plotly](https://plotly.com/r/animations/)\n\nissues - [legend](https://community.plotly.com/t/how-to-remove-aa-from-the-legend/41506)\n\nNTSB Dashboard - [NTSB](https://www.ntsb.gov/safety/data/Pages/GeneralAviationDashboard.aspx)\n:::\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"site_libs/htmlwidgets-1.6.2/htmlwidgets.js\"></script>\n<script src=\"site_libs/plotly-binding-4.10.3/plotly.js\"></script>\n<script src=\"site_libs/typedarray-0.1/typedarray.min.js\"></script>\n<script src=\"site_libs/jquery-3.5.1/jquery.min.js\"></script>\n<link href=\"site_libs/crosstalk-1.2.0/css/crosstalk.min.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/crosstalk-1.2.0/js/crosstalk.min.js\"></script>\n<link href=\"site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/plotly-main-2.11.1/plotly-latest.min.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}